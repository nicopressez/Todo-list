(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{gI:()=>v,$L:()=>L,NV:()=>f,eT:()=>C,d9:()=>m,rR:()=>x,F6:()=>h});const t=document.getElementById("projectList"),n=document.getElementById("projects");document.getElementById("projectNav").addEventListener("click",(()=>{n.classList.contains("active")?n.classList.remove("active"):(n.classList.add("active"),d.classList.contains("active")&&d.classList.remove("active"),i.classList.contains("active")&&i.classList.remove("active"))}));const a=document.getElementById("todayNav"),d=document.getElementById("today");a.addEventListener("click",(()=>{d.classList.contains("active")?d.classList.remove("active"):(d.classList.add("active"),n.classList.contains("active")&&n.classList.remove("active"),i.classList.contains("active")&&i.classList.remove("active"))}));const c=document.getElementById("thisWeekNav"),i=document.getElementById("thisWeek");function o(e){const t=e.parentNode.parentNode.querySelector("h3").textContent;return m.find((e=>e.name==t))}function s(e){const t=document.createElement("form"),n=document.createElement("input"),a=document.createElement("input"),d=document.createElement("input"),c=document.createElement("input");n.type="text",n.name="newTaskTitle",a.type="text",a.name="newTaskDesc",d.type="date",d.name="newTaskDate",c.type="submit",c.name="confirmNewTask",c.classList.add("confirmNewTask"),t.addEventListener("submit",(function(e){e.preventDefault(),v(this),r(this),i.removeChild(t)}));const i=e.target.parentNode.parentNode;i.appendChild(t),t.appendChild(n),t.appendChild(a),t.appendChild(d),t.appendChild(c)}function l(e,t){const n=t.target.parentNode.querySelector("h3").textContent;return e.tasks.find((e=>e.title===n))}function r(e){e.querySelectorAll("input").forEach((e=>{"submit"!==e.type&&(e.value="")}))}function p(){localStorage.setItem("projectlist",JSON.stringify(m)),console.log(localStorage.getItem("projectlist"))}c.addEventListener("click",(()=>{i.classList.contains("active")?i.classList.remove("active"):(i.classList.add("active"),n.classList.contains("active")&&n.classList.remove("active"),d.classList.contains("active")&&d.classList.remove("active"))})),document.querySelector(".newProject").addEventListener("submit",(function(e){e.preventDefault(),L(this),r(this)}));const m=[];!function(){const e=localStorage.getItem("projectlist");e&&m.splice(0,m.length,...JSON.parse(e))}(),m.forEach((e=>function(e){const n=document.createElement("div"),a=document.createElement("div"),d=document.createElement("h3"),c=document.createElement("div"),i=document.createElement("button"),l=document.createElement("button"),r=document.createElement("button");n.classList.add("entireProject"),a.classList.add("singleProject"),l.classList.add("addTaskBtn"),c.classList.add("btnContainer"),l.textContent="Add task",i.textContent="Remove",d.textContent=e,r.textContent="Edit",l.addEventListener("click",(e=>{a.querySelector("form")||s(e)})),i.addEventListener("click",(e=>{t.removeChild(n),x(e)})),r.addEventListener("click",(()=>{if(!a.querySelector("form")){const e=document.createElement("form"),t=document.createElement("input"),n=document.createElement("input");e.classList.add("editForm"),t.value=d.textContent,t.type="text",n.type="submit",e.addEventListener("submit",(n=>{n.preventDefault();const c=t.value;f(r,c),d.textContent=c,a.removeChild(e)})),a.appendChild(e),e.appendChild(t),e.appendChild(n)}})),t.appendChild(n),n.appendChild(a),a.appendChild(d),a.appendChild(c),c.appendChild(l),c.appendChild(r),c.appendChild(i);const p=o(r);p.tasks.forEach((e=>{!function(e,t,n){const a=document.createElement("div"),d=document.createElement("h3"),c=document.createElement("p"),i=document.createElement("p"),o=document.createElement("button"),s=document.createElement("button");a.classList.add("singleTask"),d.textContent=t.title,c.textContent=t.description,i.textContent=t.dueDate,o.textContent="Remove",s.textContent="Edit",o.addEventListener("click",(t=>{l.removeChild(a),h(e,t)})),s.addEventListener("click",(t=>{if(!s.parentNode.querySelector("form")){const n=document.createElement("form"),a=document.createElement("input"),o=document.createElement("input"),l=document.createElement("input"),r=document.createElement("input");a.type="text",o.type="text",l.type="date",r.type="submit",a.value=d.textContent,o.value=c.textContent,l.value=i.textContent,n.addEventListener("submit",(r=>{r.preventDefault();const p=a.value,m=o.value,u=l.value;C(e,t,p,m,u),d.textContent=p,c.textContent=m,i.textContent=u,s.parentNode.removeChild(n)})),t.target.parentNode.appendChild(n),n.appendChild(a),n.appendChild(o),n.appendChild(l),n.appendChild(r)}}));const l=n.parentNode.parentNode;l.appendChild(a),a.appendChild(d),a.appendChild(c),a.appendChild(i),a.appendChild(s),a.appendChild(o)}(p,e,c)}))}(e.name)));class u{constructor(e,t,n,a){this.title=t,this.description=n,this.dueDate=a,e.tasks.push(this)}}function v(e){const t=o(e);new u(t,e.newTaskTitle.value,e.newTaskDesc.value,e.newTaskDate.value),function(e,t){const n=e.tasks[e.tasks.length-1],a=document.createElement("div"),d=document.createElement("h3"),c=document.createElement("p"),i=document.createElement("p"),o=document.createElement("button"),s=document.createElement("button");a.classList.add("singleTask"),d.textContent=n.title,c.textContent=n.description,i.textContent=n.dueDate,o.textContent="Remove",s.textContent="Edit",o.addEventListener("click",(t=>{l.removeChild(a),h(e,t)})),s.addEventListener("click",(t=>{if(!s.parentNode.querySelector("form")){const n=document.createElement("form"),a=document.createElement("input"),o=document.createElement("input"),l=document.createElement("input"),r=document.createElement("input");a.type="text",o.type="text",l.type="date",r.type="submit",a.value=d.textContent,o.value=c.textContent,l.value=i.textContent,n.addEventListener("submit",(r=>{r.preventDefault();const p=a.value,m=o.value,u=l.value;C(e,t,p,m,u),d.textContent=p,c.textContent=m,i.textContent=u,s.parentNode.removeChild(n)})),t.target.parentNode.appendChild(n),n.appendChild(a),n.appendChild(o),n.appendChild(l),n.appendChild(r)}}));const l=t.parentNode.parentNode;l.appendChild(a),a.appendChild(d),a.appendChild(c),a.appendChild(i),a.appendChild(s),a.appendChild(o)}(t,e),p()}function C(e,t,n,a,d){const c=l(e,t);c.title=n,c.description=a,c.dueDate=d,p()}function h(e,t){const n=l(e,t),a=e.tasks.findIndex((e=>e==n));e.tasks.splice(a,1),p()}class E{constructor(e){this.name=e,this.tasks=[],m.push(this),function(e){const n=document.createElement("div"),a=document.createElement("div"),d=document.createElement("h3"),c=document.createElement("div"),i=document.createElement("button"),o=document.createElement("button"),l=document.createElement("button");n.classList.add("entireProject"),a.classList.add("singleProject"),o.classList.add("addTaskBtn"),c.classList.add("btnContainer"),o.textContent="Add task",i.textContent="Remove",d.textContent=e,l.textContent="Edit",o.addEventListener("click",(e=>{a.querySelector("form")||s(e)})),i.addEventListener("click",(e=>{t.removeChild(n),x(e)})),l.addEventListener("click",(()=>{if(!a.querySelector("form")){const e=document.createElement("form"),t=document.createElement("input"),n=document.createElement("input");e.classList.add("editForm"),t.value=d.textContent,t.type="text",n.type="submit",e.addEventListener("submit",(n=>{n.preventDefault();const c=t.value;f(l,c),d.textContent=c,a.removeChild(e)})),a.appendChild(e),e.appendChild(t),e.appendChild(n)}})),t.appendChild(n),n.appendChild(a),a.appendChild(d),a.appendChild(c),c.appendChild(o),c.appendChild(l),c.appendChild(i)}(this.name)}}function L(e){new E(e.projectName.value),p()}function f(e,t){o(e).name=t,p()}function x(e){const t=o(e.target),n=m.findIndex((e=>e==t));m.splice(n,1),p()}})();